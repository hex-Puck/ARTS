有一个已经有序的数据序列，要求在这个已经排好的数据序列中插入一个数，但要求插入后此数据序列仍然有序，这个时候就要用到一种排序方法——**插入排序法**。插入排序的基本操作就是将一个数据插入到已经排好序的有序数据中，从而得到一个新的、个数加一的有序数据，算法适用于少量数据的排序，时间复杂度为O(n^2)。

> 将Value插入到Sorted的数列中。
>
> 在每次做插入时，数组内容已是有序的。
>
> 其生活实例可以是排列扑克牌的例子。手上的扑克牌是已排列的部分，桌上扑克牌为待排列部分。

插入算法把要排序的数组分成两部分：第一部分包含了这个数组的所有元素，但将最后一个元素除外（让数组多一个空间才有插入的位置），而第二部分就只包含这一个元素（即待插入元素）。在第一部分排序完成后，再将这个最后元素插入到已排好序的第一部分中。

插入排序的基本思想是：每步将一个待排序的记录，按其**关键码值**的大小插入前面已经排序的数据中的适当位置上，直到全部插入完为止。Java版本代码如下（升序）：

~~~
for (int j = 1; j < nums.length; j++) {
    int key = nums[j];
    int i = j - 1;
    while (i >= 0 && nums[i] > key) {
    	// 交换值
    	nums[i + 1] = nums[i];
    	// 迭代计算i值，相当于待插入key的位置
    	i = i - 1;
    }
    nums[i + 1] = key;
}
~~~

# 循环不变式

在上述代码中，for循环的每次迭代开始时，num[N]中的元素**已按序排列**。这种属性可称为是**循环不变式**。

![](https://raw.githubusercontent.com/ZHANGfeng-james/Data-Structure-and-Algorithm/master/%E7%AE%97%E6%B3%95/pics/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E5%BE%AA%E7%8E%AF%E4%B8%8D%E5%8F%98%E5%BC%8F.png)

循环不变式主要用来帮助我们理解算法的正确性。关于循环不变式，我们必须证明 3 条属性（**类似于数学归纳法**）：

1. 初始化：循环的第一次迭代之前，循环不变式为真（已按序排列）；
2. 保持：如果循环的某次迭代之前它为真，那么下次迭代之前它仍为真（深入到代码实现，证明下次迭代之前属性是true）；
3. 终止：在循环终止时，不变式提供了一个有用的性质，有助于证明算法是正确的（当循环终止时停止归纳）；

用循环不变式的 3 个条件，证明算法是正确的。

# 增量法

插入排序使用了增量方法：在排序子数组A[1, j-1]后，将单个元素A[j]插入子数组的适当位置，产生排序好的子数组A[1, j]。